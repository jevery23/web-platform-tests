<!doctype html>
<script src="/resources/testharness.js"></script>
<script src="/resources/testharnessreport.js"></script>
<script>
// test for reuse of https://github.com/w3c/speech-api/issues/7
async_test(t => {
  var utter = new SpeechSynthesisUtterance('Hello World');
  speechSynthesis.speak(utter);
  utter.onend = t.step_func(() => {
    // Edge, WebKit and Blink allow this, but Firefox doesn't.
    speechSynthesis.speak(utter);
    // pass as long as no exception was thrown
    t.done();
  });
}, 'Using the same SpeechSynthesisUtterance twice for speechSynthesis.speak()');
</script>
